{% comment %}
  Blog template section
{% endcomment %}

<section class="page-width">
  <div class="blog-header">
    <h1 class="blog-title">{{ blog.title }}</h1>
    {% if blog.summary != blank %}
      <div class="blog-summary">{{ blog.summary }}</div>
    {% endif %}
  </div>

  <div class="blog-articles">
    {% for article in blog.articles %}
      <article class="blog-article">
        {% if article.image %}
          <div class="blog-article-image">
            <a href="{{ article.url }}">
              {{ article.image | image_url: width: 600 | image_tag }}
            </a>
          </div>
        {% endif %}
        
        <div class="blog-article-content">
          <h2 class="blog-article-title">
            <a href="{{ article.url }}">{{ article.title }}</a>
          </h2>
          
          {% if article.excerpt != blank %}
            <div class="blog-article-excerpt">{{ article.excerpt }}</div>
          {% endif %}
          
          <div class="blog-article-meta">
            {% if section.settings.show_date %}
              <time datetime="{{ article.published_at | date: '%Y-%m-%d' }}">
                {{ article.published_at | date: '%B %d, %Y' }}
              </time>
            {% endif %}
            
            {% if section.settings.show_author and article.author != blank %}
              <span class="blog-article-author">by {{ article.author }}</span>
            {% endif %}
          </div>
        </div>
      </article>
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "Blog",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "options": [
        {
          "value": "collage",
          "label": "Collage"
        },
        {
          "value": "grid",
          "label": "Grid"
        }
      ],
      "default": "collage"
    },
    {
      "type": "checkbox",
      "id": "show_image",
      "label": "Show article image",
      "default": true
    },
    {
      "type": "select",
      "id": "image_height",
      "label": "Image height",
      "options": [
        {
          "value": "adapt",
          "label": "Adapt to image"
        },
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        }
      ],
      "default": "medium"
    },
    {
      "type": "header",
      "content": "Article information"
    },
    {
      "type": "checkbox",
      "id": "show_date",
      "label": "Show date",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_author",
      "label": "Show author",
      "default": false
    },
    {
      "type": "header",
      "content": "Section padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 36
    }
  ]
}
{% endschema %}
