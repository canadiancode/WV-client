<style>
  .title {
    font-family: var(--main-heading-font-family);
    font-size: var(--main-heading-font-size);
  }
  #wv-creator-signup-form {
    padding: 2rem 0;
    max-width: 500px;
    margin: 0 auto;
  }
  
  #wv-creator-signup-form .title {
    font-size: var(--main-heading-font-size);
    font-family: var(--main-heading-font-family);
    text-align: center;
  }
  
  #wv-creator-signup-form .subtitle {
    text-align: center;
    margin-bottom: 1rem;
    font-size: 1.1rem;
    color: var(--off-black);
  }
  
  #wv-creator-signup-form form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  #wv-creator-signup-form .input-container {
    display: flex;
    flex-direction: column;
  }
  
  #wv-creator-signup-form label {
    font-weight: bold;
    margin-bottom: 0.3rem;
  }
  
  #wv-creator-signup-form input {
    padding: 0.5rem;
    font-size: 1rem;
    border-radius: 5px;
    border: 1px solid var(--off-black);
  }
  
  #wv-creator-signup-form .mini-btn {
    margin-top: 0.5rem;
    padding: 6px 12px;
    font-size: 0.9rem;
    background: var(--off-black);
    color: var(--off-white);
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  
  #wv-creator-signup-form .social-links-preview {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 1rem;
  }
  
  #wv-creator-signup-form .social-link-tag {
    background: #f0f0f0;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 5px;
  }
  
  #wv-creator-signup-form .social-link-tag button {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 1rem;
    color: red;
  }
  
  #wv-creator-signup-form .submit-btn {
    padding: 12px 30px;
    border-radius: 5px;
    background: var(--off-black);
    color: var(--off-white);
    font-weight: bold;
    font-size: 20px;
    border: none;
    cursor: pointer;
    margin-top: 10px;
  }
  
  #wv-creator-signup-form .completion-container {
    text-align: center;
    margin-top: 2rem;
  }
  #wv-creator-signup-form .completion-container button {
    padding: 12px 30px;
    border-radius: 5px;
    background: var(--off-black);
    color: var(--off-white);
    font-weight: bold;
    font-size: 20px;
    border: none;
    cursor: pointer;
    margin-top: 10px;
  }
</style>
<div id="wv-creator-signup-form">
  <h1 class="title">Become a Verified Creator</h1>
  <p class="subtitle">Join WornVault to resell your personal items to fans.<br>Quick approval, discreet fulfillment.</p>

  <form id="creator-signup-form">
    <div class="input-container">
      <label for="creator-email">Email (Login)</label>
      <input type="email" id="creator-email" name="email" required />
    </div>

    <div class="input-container">
      <label for="creator-name">Display Name (your URL)</label>
      <input type="text" id="creator-name" name="displayName" required />
    </div>

    <div class="input-container">
      <label for="creator-social-link">Social Links</label>
      <input type="url" id="creator-social-link" name="social" placeholder="Paste your IG, TikTok, etc." />
      <button id="add-social-link" class="mini-btn">+ Add Link</button>
    </div>

    <div class="social-links-preview" id="social-links-preview"></div>

    <button class="submit-btn" type="submit">Apply Now</button>
    <div class="message" id="creator-submission-message"></div>
  </form>

  <div class="completion-container" style="display:none">
    <h4>Thanks for Applying!</h4>
    <p>Your application has been submitted for review. We’ll reach out within 24 hours.</p>
    <a href="/"><button>Return Home</button></a>
  </div>
</div>

<script>
  const socials = [];
  document.getElementById('add-social-link').addEventListener('click', function(e) {
    e.preventDefault();
    const input = document.getElementById('creator-social-link');
    const url = input.value.trim();
    if (!url) return;

    socials.push(url);
    input.value = '';

    const tag = document.createElement('div');
    tag.className = 'social-link-tag';
    tag.innerHTML = `${url} <button onclick="this.parentElement.remove()">×</button>`;
    document.getElementById('social-links-preview').appendChild(tag);
  });

  document.getElementById('creator-signup-form').addEventListener('submit', async function(e) {
    e.preventDefault();

    const email = document.getElementById('creator-email').value;
    const displayName = document.getElementById('creator-name').value;

    const payload = {
      email,
      displayName,
      socials
    };

    document.querySelector('#creator-signup-form .submit-btn').textContent = 'Sending...';
    console.log('Payload sending to server: ', payload);
    try {
      const res = await fetch('https://server.wornvault.com/creator-apply', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
      });

      const result = await res.json();
      if (result.status === 'success') {
        document.getElementById('creator-signup-form').style.display = 'none';
        document.querySelector('#wv-creator-signup-form .completion-container').style.display = 'block';
      } else {
        document.getElementById('creator-submission-message').textContent = 'Error submitting form.';
      }
    } catch (err) {
      console.error('Submission failed:', err);
      document.getElementById('creator-submission-message').textContent = 'Submission failed. Try again.';
    }
  });
</script>